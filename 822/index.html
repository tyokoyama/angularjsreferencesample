<!DOCTYPE html>
<html ng-app="app">
<head>
	<meta charset="utf-8" />
	<title>フィルター実装時の注意点サンプル２</title>
	<script src="../angular.min.js"></script>
	<script>
		angular.module('app', [])
			.filter('heavyFilter', function() {
				return function (value) {
					console.log("heavyFilter");

					return value;
					// var newValues = [];

					// angular.forEach(values, function(v) {
					// 	newValues.push();
					// });

					// return newValues;
				};
			})
			.controller('SimpleController', ['$scope', function($scope) {
				$scope.messages = [];
				$scope.addMessage = function(message) {
					$scope.messages.push(message);
				};
			}]);
	</script>
</head>
<body>
	フィルター実装時の注意点サンプル２
	<div ng-controller="SimpleController">
		<input type="text" ng-model="message"><br/>
		<button ng-click="addMessage(message)">add</button>

		{{message}}
		<div ng-repeat="msg in messages track by $index">
			{{msg | heavyFilter}}<br />
		</div>
	</div>
</body>
</html>